edition: 1.0.1
name: iptv
access: default
vars:
  region: cn-hangzhou
services:
  fc-iptv-index:
    component: devsapp/fc
    props:
      region: ${vars.region}
      service:
        name: iptv
        description: IPTV服务
        internetAccess: true
      function:
        name: index
        handler: main
        runtime: custom
        environmentVariables:
          TZ: Asia/Shanghai
        codeUri: ./
      triggers:
        - name: httpTrigger
          type: http
          config:
            authType: anonymous
            methods:
              - GET
      customDomains:
        - domainName: iptv.fun.dongfg.com
          protocol: HTTP,HTTPS
          certConfig:
            certName: iptv_fun_dongfg_com
            privateKey: ./ssl.private.pem
            certificate: ./ssl.cert.pem
          routeConfigs:
            - serviceName: iptv
              functionName: index
              path: /*
